# =============================================================================
# RAAA Settings - 集中参数配置文件
# =============================================================================
# 此文件包含所有可调参数，修改后无需重启即可生效（需重新加载配置）
# 
# 使用方法：
#   from templates import get_settings
#   settings = get_settings()
#   chunk_size = settings["rag"]["chunk_size"]
# =============================================================================

# -----------------------------------------------------------------------------
# LLM 配置 - 大语言模型参数
# -----------------------------------------------------------------------------
llm:
  model: "deepseek-chat"
  temperature: 0.6
  # API 密钥和地址从环境变量读取：DEEPSEEK_API_KEY, DEEPSEEK_BASE_URL

# -----------------------------------------------------------------------------
# Embedding 配置 - 向量嵌入模型参数
# -----------------------------------------------------------------------------
embedding:
  model_name: "sentence-transformers/all-MiniLM-L6-v2"
  device: "cpu"
  normalize_embeddings: true

# -----------------------------------------------------------------------------
# RAG 配置 - 检索增强生成参数
# -----------------------------------------------------------------------------
rag:
  chunk_size: 1000          # 文档分块大小（字符数）
  chunk_overlap: 150        # 分块重叠大小（字符数）
  top_k_results: 5          # 检索返回的最大结果数
  similarity_threshold: 0.5 # 相似度阈值（0-1）

# -----------------------------------------------------------------------------
# Deep Research 配置 - 深度调研参数
# -----------------------------------------------------------------------------
deep_research:
  parallel_searchers: 4       # 并行搜索器数量
  max_tasks: 12               # 最大任务数
  search_results_per_task: 10 # 每个任务的搜索结果数
  images_per_task: 2          # 每个任务的图片数
  search_timeout: 30          # 搜索超时时间（秒）

# -----------------------------------------------------------------------------
# Memory 配置 - 对话记忆参数
# -----------------------------------------------------------------------------
memory:
  token_limit: 4000           # 对话记忆的 token 限制
  max_history_messages: 20    # 最大历史消息数

# -----------------------------------------------------------------------------
# Report 配置 - 报告生成参数
# -----------------------------------------------------------------------------
report:
  target_word_count: 25000    # 目标字数（20000-30000）
  min_sections: 9             # 最小章节数
  max_diagrams: 10            # 最大图表数
  max_tables: 5               # 最大表格数

# -----------------------------------------------------------------------------
# 用户角色配置
# -----------------------------------------------------------------------------
roles:
  available:
    - "Requirements Analyst"
    - "Software Architect"
    - "Software Developer"
    - "Test Engineer"
  default: "Requirements Analyst"

# -----------------------------------------------------------------------------
# 支持的文件类型
# -----------------------------------------------------------------------------
supported_file_types:
  - "pdf"
  - "docx"
  - "doc"
  - "pptx"
  - "ppt"
  - "xlsx"
  - "xls"
  - "txt"
  - "png"
  - "jpg"
  - "jpeg"
  - "json"

# -----------------------------------------------------------------------------
# 意图配置
# -----------------------------------------------------------------------------
intents:
  valid:
    - "requirements_generation"
    - "rag_qa"
    - "deep_research"
    - "general_chat"
  mixed:
    - "rag_qa+requirements_generation"
    - "rag_qa+deep_research"
    - "deep_research+requirements_generation"
    - "rag_qa+deep_research+requirements_generation"
